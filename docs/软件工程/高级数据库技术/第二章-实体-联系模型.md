---
title: 第二章 实体-联系模型
tags:
  - 高级数据库技术
categories:
  - 复习
date: 2020-08-07 14:48:00
---
## 基本概念
### 实体
实体：  
- 客观存在并且可以相互区分的任何事物，**可以是实际对象,也可以是抽象概念**
  - 例如职工张海峰、学生李玉、一辆福克斯汽车、郑州大学等都是现实中存在的实际对象
  - 数据库课程、张海峰的一个银行账户等是抽象实体联系

属性：  
- 实体所代表的事物具有的某种特性，每个实体都可以用一组属性来刻画
  - 例如，我们可以用职工号、职工姓名、性别、出生年月部门、住址、电话号码等属性来刻画职工实体
- 对于同一个实体，刻画它的属性集可以有不同的选择
- 每个属性都有一定的取值范围，称为该属性的**值域**
  - 例如，学号的值域可以是长度为9的数字字符串的集合，姓名的值域可以是长度不超过4个汉字的字符串的集合

实体集：  
- 实体集是具有相同属性的实体的集合
- 实体和实体集的型都用其属性名的列表表示
  - 例如学生实体（集）的型可以制学号。学生姓名：作别，出生年月院系，专业)
- 实体的值是该实体诸属性值的列表
  - (201606198，江涛，男，19974，信息工程学院，软件工程)
- 实体集的值是该实体集中所有实体值的集合
  - 如  
    {  
        (201605001，王万里，男，1997.12，信息工程学院，计算机科学与技术)，  
        (201606001，张晓霞，女，1998.1，信息工程学院，软件工程)，……，  
		(201606198，江涛，男，1997.4，信息工程学院，软件工程）  
		}

码：  
- 能够唯一确定实体集中每个实体的属性集称为该实体集的**超码**
- 真子集都不是超码的极小超码，并称之为**候选码**
- 所谓**主码**是指数据库的设计者选中的，用来区分同一实体集中不同实体的候选码
- 在不需要特别强调主码时，本书将使用**“码”**表示主码或候选码，而超码是码的超集

注意：
- 在数据库的文献中，**对于单个属性的集合，常常不使用集合记法，而直接用属性名**
  - 每个实体集都有一个码，因为实体是可以相互区分的，而E-R模型正是用实体的码值区分实体
- 码是**语义概念，是实体集的性质**，需要根据现实世界的实际情况来确定
  - 例如，如果能够保证所有职工都不同名同姓，那么职工姓名就可以作为职工实体集的码

属性分类：  
- **简单属性**：指的是不能划分成更小部分的属性
- **复合属性**：和简单属性相对应，是可以划分成更小部分的属性
- **单值属性**：是特定的实体在该属性上只能取单个值的属性
- **多值属性**：是特定的实体在该属性上只能取多个值的属性
- **基本属性**：是不能通过其他属性的值推导出来（即它的值必须存储在系统中）的属性
- **派生属性**：可以从其它相关属性或实体计算得到，因此派生属性又称**计算属性**

### 联系
**联系**是多个实体之间的相互关联  
**联系集**是相同类型联系的集合  

联系的类型：  
- 一对一  
一对一联系（1:1联系）
- 一对多  
一对多联系（1:n联系）
- 多对一  
多对一联系（n:1联系）
- 多对多  
多对多联系（m:n联系）
## 实体-联系图
### 实体-联系图意义
实体-联系模型使用实体-联系图（E-R图）对现实世界建立概念模型  
好处  
- E-R模型概念简单
- 表达能力强
- E-R图标示清晰
### 实体联系图要素
- 矩形框：实体集
  - **实体集名**写在框内，并用无向边把实体集和它的属性连接起来
- 菱形框：联系
  - **联系名**写在框内
  - 如果联系具有属性，则用无向边将联系和它的属性连接起来
- 椭圆形框：属性
  - **属性名**写在框内、**多值属性**用**双边椭圆、派生属性**用**虚边椭圆**
  - **其他属性**都用**单实边椭圆**
  - 用无向边将复合属性与它的成分属性连接起来
  - **码的属性用下划线标识**
### 联系的处理
- 联系**R是一对一**的，则每条无向边旁均用1标记
- 如果联系**R是实体集E<sub>2</sub>,...,E<sub>k</sub>到实体集E<sub>1</sub>的多对一**联系，则R与E<sub>1</sub>之间的无向边用1标记，其余的无向边用小写字母m，n，p等标记，或都用“*”号标记
- 如果联系**R是多对多的**，则每条无向边都用小写字母m，n，p等标记，或都用“*”号标记
## 弱实体集
### 定义
- 强实体集：存在码的实体集
- 弱实体集：一个实体集的任何属性集都不足以形成该实体集的码
  - **弱实体集**有一个不同于强实体集的特点
  - 每个弱实体必须依赖于一个强实体
  - 弱实体集必须与另一个称作**标识实体集**或**属主实体集**的强实体集相关联才有意义
  - 标识实体集与弱实体集相关联的联系称为**标示性联系**
  - 虽然不存在唯一确定弱实体集中的每个弱实体的码，但是存在依赖于同一个强实体的弱实体之间还是可以区分的
  - 在弱实体集中，如果它的一个属性集可以唯一确定存在依赖于同一个强实体的弱实体，则称该属性集为弱实体集的**分辨符**
  - **弱实体集的标识实体集的码**和**该弱实体集的分辨符**共同形成**弱实体集的码**
  - 弱实体集的分辨符又称弱实体集的**部分码**
  - 弱实体必须参与标识性联系，除了参与标识性联系之外，弱实体集还可以参与其他联系
  - 有的弱实体集还可以与多个标识实体集关联，该弱实体集的码由诸标识实体集的码和弱实体集的分辨符组合
  - 另一种处理弱实体集的方法：把它作为其标识实体集的一个多值复合属性
  - 一种**不好的设计方法**：将弱实体集的标识实体集的码添加到弱实体集的属性集中，将弱实体集转化成强实体集

## 本章测验
1【单选题】客观存在并可以相互区分的任何事物被称为（  ）  
A、实体  
B、属性  
C、联系  
D、以上都不正确  

2 【单选题】17\表示事物所具有的某种特性的是（  ）  
A、实体  
B、属性  
C、联系  
D、以上都不正确  

3 【单选题】18\描述事物之间关联的是（  ）  
A、实体   
B、属性    
C、联系   
D、以上都不正确

4 【单选题】 一个属性能被划分为更小部分的属性，该属性属于（  ）  
A、复合属性     
B、多值属性    
C、派生属性   
D、以上都不正确

5【单选题】一个属性可以取多个值，该属性属于（  ）  
A、复合属性     
B、多值属性    
C、派生属性   
D、以上都不正确

6 【单选题】一个属性的值能从其他相关属性计算得到，该属性属于（  ）  
A、复合属性     
B、多值属性    
C、派生属性   
D、以上都不正确

7【单选题】实体集E1中的每个实体最多与实体集E2中的一个实体相关联，并且E2中的每个实体也最多与E1中的一个实体相关联，则E1和E2之间的联系属于（  ）  
A、一对一联系     
B、一对多联系    
C、多对一联系   
D、多对多联系

8【单选题】实体集E1中的每个实体都可以与E2中的任意多个实体相关联，而E2中的每个实体最多与E1中的一个实体相关联，则E1和E2之间的联系属于（  ）  
A、一对一联系     
B、一对多联系    
C、多对一联系   
D、多对多联系

9【单选题】实体集E1中的每个实体最多与E2中的一个实体相关联，而E2中的每个实体都可以与E1中任意多个实体相关联，则E1和E2之间的联系属于（  ）  
A、一对一联系     
B、一对多联系    
C、多对一联系   
D、多对多联系

10【单选题】实体集E1中的每个实体都可以与E2中的任意多个实体相关联，且E2中的每个实体也都可以与E1中任意多个实体相关联，则它们之间的联系属于（  ）  
A、一对一联系     
B、一对多联系    
C、多对一联系   
D、多对多联系

11【单选题】实体的各种码中，包含无关紧要属性的码有（  ）  
A、候选码    
B、超码    
C、主码   
D、以上都不对

12【单选题】在实体-联系图中，实体集可以用（  ）  
A、矩形框    
B、菱形框    
C、椭圆形框   
D、以上都不对

13【单选题】在实体-联系图中，联系集可以用（  ）  
A、矩形框    
B、菱形框    
C、椭圆形框   
D、以上都不对

14【单选题】在实体-联系图中，属性可以用（  ）  
A、矩形框    
B、菱形框    
C、椭圆形框   
D、以上都不对

15【单选题】一个实体集的任何属性都不足以形成该实体集的码，该实体集被称为（  ）  
A、强实体集    
B、弱实体集   
C、标识性实体集   
D、属主实体集

16【单选题】下面处理弱实体集正确的方法是（  ）  
A、把它作为强实体集处理
B、不管它  
C、把它作为多值复合属性处理
D、以上都不对