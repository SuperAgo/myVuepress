---
title: 第一章 网络编程基础
tags:
  - 网络应用程序设计
categories:
  - 复习
date: 2020-09-16 09:00:00
---
## 1.1 网络编程相关的基础概念
### 网络编程与进程通信
#### 1.进程与线程的基本概念
**进程**是处于运行过程中的程序实例，是**操作系统调度和分配资源的基本单位**。一个进程实体由**程序代码、数据和进程控制块**3部分构成。

**线程**运行在**进程**中，负责执行包含在进程的地址空间中的代码。**单个进程**可能包含**若干个线程**，所有线程都“同时”执行进程地址空间中的代码。操作系统通过一种循环方式为线程提供**时间片（称为量程）**，造成一种假象，仿佛所有线程都是同时运行的一样。当创建一个进程时，系统会自动创建它的第一个线程，称为**主线程**。
#### 2.网络应用进程在网路体系结构中的位置
从计算机网络体系结构的角度来看，网络应用进程处于网络层次结构的最上层。  
从功能上看，可以将<u><b>网络应用程序</b></u>分为两部分：  
- **专门负责网络通信的模块**：它们与网络协议相连接，借助网络协议栈提供的服务完成网络上数据信息的交换
- **面向用户或进行其他处理的模块**：它们接受用户命令，或对借助网络传输过来的数据进行加工
#### 3.实现网间进程通信必须解决的问题
进程通信的概念最初来源于**单机系统**。<u><b>网间进程通信必须解决以下问题</b></u>：  
- 1.网间进程的标识问题
- 2.与网络协议栈连接的问题
- 3.多重协议的识别问题
- 4.不同的通信服务的问题

### Internet中网间进程的标识
#### 1.传输层在网络通信中的地位
Internet是基于TCP/IP协议栈的，TCP/IP协议栈的特点是两头大，中间小。

传输层是计算机网络中通信主机内部进行独立操作的第一层，是支持端到端的进程通信的关键的一层。

#### 2.端口的概念
**端口**是**TCP/IP协议簇中，应用层进程与传输层协议实体间的通信接口**。在OSI七层协议的描述中，将它称为应用层进程与传输层协议是体检的服务访问点（SAP）。
#### 3.端口号的分配机制
TCP/IP**采用了全局分配（静态分配）和本地分配（动态分配）相结合的方法**。保留端口的范围是0~1023，又称为众所周知的端口或熟知端口（Well-know Port）。
#### 4.进程的网络地址的概念
在Internet中，用一个三元组在全局中唯一的标识一个应用层进程：  
`应用层进程= （传输层协议，主机的IP地址，传输层的端口号）`  
这样的一个三元组，叫做一个半相关（Half-association），它标识了Internet中进程间通信的一个端点，也把它称为进程的**网络地址**。
#### 5.网络中的进程通信的标识
一个完整的网间通信需要一个五元组在全局中唯一的来标识：  
`（传输层协议，本地机IP地址，本地机传输层端口，原地机IP地址，原地机传输层端口）`  
这个五元组称为一个全相关（Association），即两个协议相同的半相关才能组合成一个合适的全相关，或完全指定一对网间通信的进程。
### 网络协议的特征
#### 1.面向消息的协议与基于流的协议
(1)面向消息的协议：面向消息的协议以消息为单位在网上传送数据，消息在发送端一条一条地发送，在接收端也只能一条一条地接收，每一条消息是独立的，消息之间存在着边界。（UDP是面向消息的协议）

(2)基于流的协议：基于流的协议不保护消息边界，将数据当作字节流连续的传输，不管实际消息边界是否存在。（TCP是基于流的协议）
#### 2.面向连接的服务和无连接的服务
(1)面向连接服务：电话系统服务模式的抽象（TCP提供面向连接的虚电路传输服务，使用面向连接的协议）

(2)无连接服务：邮政系统服务的抽象（UDP就是无连接的协议，提供无连接的数据报传输服务）
#### 3.可靠性和次序性
### 高效的用户数据报协议
UDP提供无连接的数据包传输服务。传输效率高，适用于交易型的应用程序
### 可靠的传输控制协议
TCP提供一个面向连接的、端到端的、完全可靠的（无差错、无丢失、无重复或失序）全双工的流传输服务。
## 1.2 三类网络编程
### 三类网络编程及特点
- 基于TCP/IP协议栈的网络编程
  - 是最基本的网络编程方式，主要是使用各种编程语言，利用操作系统提供的套接字网络编程接口，直接开发各种网络应用程序。
- 基于WWW应用的网络编程
  - WWW又称万维网或Web，WWW应用是Internet上最广泛的应用。它用HTML来表达信息，用超链接将全世界的网站连接成一个整体。
- 基于.NET框架的Web Services网络编程
  - .NET平台
  - Web服务
## 1.3 客户机/服务器交互模式
### C/S模式的概念
网络应用进程通信时，普遍采用客户机/服务器交互模式（Client-Serv二paradigm of interaction），简称C/S模式。
### 易混淆术语
1.服务器程序与服务器类计算机
- 服务器（Server）:运行着的服务程序
- 服务器类计算机（Server-Class Computer）：运行服务器软件的强大的计算机

2.客户机与用户
- 客户机（Client）：指应用进程，即计算机软件
- 用户（User）：指的是使用计算机的人
## 1.4 P2P模式
### P2P的定义和特征
P2P是Peer-to-Peer的简写，Peer意为“同等的人”，P2P网络称为“对等网”，也称为“点对点”。几个比较流行的P2P网络的定义：
- Clay Shirky的定义：P2P计算是指能够利用广泛分布在Internet边缘的大量计算、存储、网络带宽、信息、人力等资源的技术。
- P2P工作组的定义：通过系统间直接交换来共享计算机资源和服务。
- SUN的定义：P2P是指那些有利于促进Internet上信息、带宽和计算等资源有效利用的广泛技术。

P2P系统具有以下特征：
- 分散性
- 规模性
- 扩展性
- Servent性
- 自治性
- 互助性
- 自组织性