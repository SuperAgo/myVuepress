---
title: 第二章 套接字网络编程接口基础
tags:
  - 网络应用程序设计
categories:
  - 复习
date: 2020-09-17 14:00:00
---
## 2.1 套接字网络编程接口的产生与发展
### 套接字网络编程接口
**套接字应用程序编程接口**是**网络应用程序通过网络协议栈进行通信时所使用的接口**，即**应用程序与协议栈软件之间的接口**，简称套接字编程接口。
### 套接字网络编程接口的起源与应用
最早的套接字规范由美国的Berkeley大学开发的，当时的环境是UNIX操作系统，使用TCP/IP。套接字编程接口在Windows和Linux操作系统中得到继承和发展
### 套接字编程接口的两种实现方式
- 在操作系统的内核中增加相应的软件来实现
- 通过开发操作系统之外的函数库来实现
### 套接字通信与UNIX操作系统的输入/输出的关系
- 操作的过程是类似的
- 操作的方法是类似的
- 甚至使用的过程的名字都可以是相同的
## 2.2 套接字编程的基本概念
### 什么是套接字
TCP用主机的IP地址加上主机上的端口号作为TCP连接的端点，这种端点就叫做套接字（socket）或插口。套接字用（IP地址：端口号）表示，区分不同应用程序进程间的网络通信和连接,主要有3个参数：通信的目的IP地址、使用的传输层协议(TCP或UDP)和使用的端口号。
### 套接字的特点
- 套接字存在于通信域中
- 套接字具有3种类型
  - 数据报套接字
  - 流式套接字
  - 原始式套接字
- 套接字由应用层的通信进程创建，并为其服务
- 使用确定的IP地址和传输层端口号
### 套接字的应用场合
套接字编程适合于开发一些新的网络应用，这类应用具有如下特点
- 不管是采用对等模式或者C/S模式，通信双方的应用程序都需要开发。
- 双方所交换数据的结构或交换数据的顺序有特定的要求，不符合现在成熟的应用层协议，甚至需要自己去开发应用层协议，自己设计最适合的数据结构和信息交换规程。 
### 本机字节顺序和网络字节顺序
在不同的计算机中，存放多字节值的顺序是不同的，有的先低后高，有的先高后低。在具体计算机中的多字节数据的存储顺序，称为本机字节顺序

在网络的协议中，对多字节数据的存储，有它自己的规定。多字节数据在网络协议报头中的存储顺序，称为网络字节顺序
## 2.3 面向连接的套接字编程
### 什么是进程的阻塞问题？如何应对？
阻塞是指一个进程执行了一个函数或系统调用，该函数由于某种原因不能立即完成，因而不能返回调用它的进程，导致进程受控于这个函数而处于等待的状态，进程的这种状态成为阻塞。

解决上述问题的一种方案是利用UNIX操作系统的FORK()系统调用，编制多进程并发执行的服务器程序，可以创建子进程。
### 能够引起阻塞的套接字调用有哪些？
- (1)ACCEPR()
- (2)READ()、RECV()和READFORM()
- (3)WRITE()、SEND()和SENDTO()
- (4)CONNECT()
- (5)SELECT()
- (6)CLOSESOCKET()