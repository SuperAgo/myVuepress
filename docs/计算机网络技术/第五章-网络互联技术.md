---
title: 第五章 网络互联技术
tags:
  - 计算机网络技术
categories:
  - 复习
date: 2020-07-15 09:31:00
publish: false
---
## IP  
### 1、【单选】网络协议（IP）
(1)**特点**  
①IP是**面向连接**的、**不可靠**的分组传输协议  
②IP屏蔽了**数据链路层**和**物理层**的差异，使得数据的传输和转发更加方便  
③IP是**点对点式**网络通信协议  
### 2、【单选、综合】IP地址
(1)**定义**：IP要连接位于世界各地的网络和主机，实现数据的自由传输，必须要为每一个参加数据通信的网络或主机分配一个在全球范围内唯一的标识符号，这个**唯一的标识符号称为IP地址**。  
(2)**表示**：目前普遍使用的**IPv4**版本，其规定的IP地址由一个**32位的二进制数表示**，为了便于书写和阅读，采用**4个十进制数字表示**，每个十进制数的取值范围是0~255.  
(3)**地址分类**：  
<table>
	<tr>
		<th colspan="2">A类地址</th>
	</tr>
	<tr>
		<td>结构</td>
		<td>网络号占8位（1个字节），主机号占24位（3个字节），其中网络号最高位固定为1</td>
	</tr>
	<tr>
		<td>网络号</td>
		<td>网络号字段占据1个字节且第一位固定为0，则有7位可以使用，所以可指派的网络号个数为2<sup>7</sup>-2=126个，减2的原因在于：IP地址中规定的全0是保留地址，表示本地网络</td>
	</tr>
	<tr>
		<td>主机号</td>
		<td>主机号占3个字节，因此每一个A类网络的最大主机数为2<sup>24</sup>-2=16777214个，这里减2的原因在于：全0的主机号表示该IP地址是本主机所连接到的单个网络地址，全1的主机号表示该网络上的所有主机</td>
	</tr>
	<tr>
		<td>地址范围</td>
		<td>0.0.0.0~127.255.255.255</td>
	</tr>
	<tr>
		<td>默认掩码</td>
		<td><b>A类网络的默认掩码是255.0.0.0，换算成二进制就是 11111111.00000000.00000000.00000000；默认掩码意味着没有将A类大网(A类网络)再划分为若干个小网。掩码中的1表示网络号，24个0表示在网络号确定的情况下（用二进制表示的IP地址的左边8位固定不变），用24位二进制数来表示IP地址的主机号部分。（IP地址是由网络号+主机号两部分构成）</b></td>
	</tr>
	<tr>
		<th colspan="2">B类地址</th>
	</tr>
	<tr>
		<td>结构</td>
		<td>网络号占16位（2个字节），主机号占16位（2个字节），其中网络号最高位固定为10</td>
	</tr>
	<tr>
		<td>网络号</td>
		<td>其网络号字段占据2个字节，前两位固定为10，则可分配的网络号个数为2<sup>14</sup>-1=16383，减1的原因是IP规定128.0.0.0这个B类地址不可指派</td>
	</tr>
	<tr>
		<td>主机数</td>
		<td>每一个网络上的最大主机数是2<sup>16</sup>-2=65534个</td>
	</tr>
	<tr>
		<td>地址范围</td>
		<td>128.0.0.0~191.255.255.255</td>
	</tr>
	<tr>
		<td>默认掩码</td>
		<td><b>B类网络的默认掩码是255.255.0.0，换算成二进制就是 11111111.11111111.00000000.00000000；默认掩码意味着没有将B类大网再划分为若干个小网。16个0表示在网络号确定的情况下（用二进制表示的IP地址的左边16位固定不变）可以用16位二进制数来表示IP地址的主机号部分。（可以把B类默认掩码理解为是将A类大网(A类网络)划分为2的8次方(即256）个小网）</b></td>
	</tr>
	<tr>
		<th colspan="2">C类地址</th>
	</tr>
	<tr>
		<td>结构</td>
		<td>网络号占24位（3个字节），主机号占8位（1个字节），其中网络号最高3位固定为110</td>
	</tr>
	<tr>
		<td>网络号</td>
		<td>网络号字段占据3个字节，其前三位固定为110，同时192.0.0.0这个地址不能指派，则可分配的网络号个数为2<sup>21</sup>-1=2097151个</td>
	</tr>
	<tr>
		<td>主机数</td>
		<td>每一个网络上的最大主机数是2<sup>8</sup>-2=254个</td>
	</tr>
	<tr>
		<td>地址范围</td>
		<td>192.0.0.0~225.255.255.255</td>
	</tr>
	<tr>
		<td>默认掩码</td>
		<td><b>C类网络的默认掩码是255.255.255.0，换算成二进制就是 11111111.11111111.11111111.00000000；默认掩码意味着没有将C类大网再划分为若干个小网。这里的8个0表示在网络号确定的情况下（用二进制表示的IP地址的左边24位固定不变），可以用8位二进制数来表示IP地址的主机部分。（可以把C类默认掩码理解为是将A类大网(A类网络)划分为2的16次方(即65536）个小网，是将B类大网划分为2的8次方（即256）个小网）</b></td>
	</tr>
	<tr>
		<th colspan="2">D类地址</th>
	</tr>
	<tr>
		<td>结构</td>
		<td>最高4位位1110，用于IP多播</td>
	<tr>
		<td>地址范围</td>
		<td>224.0.0.0~239.255.255.255</td>
	</tr>
	<tr>
		<th colspan="2">E类地址</th>
	</tr>
	<tr>
		<td>结构</td>
		<td>最高4位位1111，作为保留使用</td>
	<tr>
		<td>地址范围</td>
		<td>240.0.0.0~255.255.255.255</td>
	</tr>
</table>
:::tip
**关于子网掩码的另类表示法**:  
有些题目中不是出现如255.255.248.0这样的子网掩码，而是出现 IP地址/数字 这样的形式，这里的/数字就是子网掩码的另类表示法。在做题时，我们要正确理解这种另类表示法。我们将255.255.248.0转为二进制的形式是 11111111.11111111.11111000.00000000，可以看到左边是有21个1，所以我们可以将255.255.248.0这个掩码表示为/21。反过来，当我们看到/21时，我们就把32位二进制的左边填上21个1，将这个32位二进制数每8位做为一节用句点隔开，再转换为十进制，就是255.255.248.0了。  
:::
(4)**子网划分**  
①在原有两级IP地址结构的基础上，从IP地址的主机号部分借用若干位作为子网号，则IP地址的结构就变成了网络号、子网号和主机三个部分，表示方式如下：  
```
IP地址::={<网络号>,<子网号>,<主机号>}
```  
②一个拥有多个物理网络的单位，可以利用子网号，将自己管辖的物理网络划分为若干个子网。划分子网是单位内部的行为，与IP地址管理机构无关，外部网络也看不到这个单位内部划分了多少个子网，仍然将这个单位视为一个网络。  
③从其他网络发送给某单位中某个主机的IP数据报，先根据其目的的IP地址中的网络号找到单位网络相连接的服务器；该路由器再根据目的IP地址中的子网号找到相应的子网，最终将IP数据报发送到目的主机。  
(5)**无分类编址CIDR**  
①CIDR不再按照A、B、C类的类型区分IP地址，也不再使用子网号字段。**它把32位的IP地址划分为，前面的部分成为网络前缀，用来指明网络，后面的部分用来指明主机**。这是一种无分类的两级编址方式，表示方法如下：
```
IP地址::={<网络前缀>,<主机号>}
```  
CIDR使用在IP地址后面加上斜线“/”加网络前缀位数的方式来标注一个完整的IP地址，比如：
```
202.194.20.138/27
133.110.5.200/20
```  
②**网络前缀相同**的连续IP地址称为一个CIDR地址块，其中一个地址被确定，则整个地址块的最小地址和最大地址，以及地址块中的地址数都可以确定。

:::tip
### 网络中有两个IP地址不可用：  
不管是A类还是B类还是C类网络，在不划分子网的情况下，有两个IP地址不可用：网络号和广播地址。  
特殊的IP地址  
全0主机ID：表示网络本身，如IP地址129.152.0.0是指网络ID为129.152的B类网络  
全1主机ID：表示广播地址，如IP地址129.152.255.255是指网络ID为129.152的B类网络的广播地址  
十进制127开头的地址：环回地址，用于测试自身TCP/IP软件是否正常，如ping自己127.0.0.1  

>给定IP地址167.77.88.99和掩码255.255.255.192，  
求子网号、广播地址、有效IP地址。  
分析：  
IP地址---->167.77.88.99------>10100111.01001101.01011000.01100011  
掩码------>255.255.255.192-->11111111.11111111.11111111.11000000  
对应位求积-------------------->10100111.01001101.01011000.01000000-->167.77.88.64（子网号）  
广播地址(子网主机全1)------->10100111.01001101.01011000.01111111-->167.77.88.127  
有效IP(除去子网本身和广播地址):167.77.88.65~167.77.88.126
### 根据掩码来确定子网的数目：  
首先看题中给出的掩码是属于哪个默认掩码的“范围”内，这样我们就可以知道是对A类还是B类还是C类大网来划分子网。比方说202.117.12.36/30，我们先把/30这种另类的掩码表示法转换为我们习惯的表示法： 11111111.11111111.11111111.11111100，转为十进制是255.255.255.252。我们可以看到，这个掩码的左边三节与C类默认掩码相同，只有第四节与C类默认掩码不同，所以我们认为255.255.255.252这个掩码是在C类默认掩码的范围之内的，意味着我们将对C类网络进行子网划分。因为C类网络的默认掩码是255.255.255.0，将C类默认掩码转换为二进制是11111111.11111111.11111111.00000000,这里的8个0表示可以用8位二进制数来表示IP地址，也就是说C类大网中可有2的8次方个IP地址，也就是256个IP地址。这道题中的掩码的最后一节是252，转换为二进制是11111100，因为1表示网络号，所以111111就表示将C类大网划分为（111111）2进制个子网。将111111转换为十进制是64，所以就表示将C类大网划分为64个子网，每个子网的IP地址数目是256/64=4，去除子网中的第一个表示子网号的IP地址和最后一个表示广播地址的IP地址，子网中的可分配的IP地址数目就是子网中的总的IP地址数目再减去2，也就是4-2=2个。  

:::


### 3、【填空】IP路由
(1)定义：路由器是一种具有**多个输入端口**和**多个输出端口**的专用计算机，其主要任务是获取与维护路由信息及转发分组。  
(2)**路由算法**  
①**静态**路由与**动态**路由算法；②**距离——向量**路由算法；  
③**链路状态**路由算法；④**层次**路由算法。  
(3)**路由协议**  
①**自治系统（AS）**；  
②**域内**路由协议（IGP）与**域间**路由协议；  
③**RIP**路由协议；④**OSPF**路由协议；  
⑤**BGP**协议。  

### 4、【单选、填空】IPv6协议
(1)特点  
①IPv6采用了新的IP首部格式，包括**基本首部**和多个可选的**扩展首部**，基本首部为固定**40B**长度。  
②IPv6中将IP地址设置为**128位**，最多可以提供多达3.4×10<sup>38</sup>个IP地址，可以充分满足未来互联网对IP地址资源的需求。  
③IPv6地址包括**单播地址**、**组播地址**和**任播地址**。
(2)书写形式  
IPv6地址通常采用**冒号**分隔的十六进制地址书写形式，把每16位的值用**十六进制**数表示，各个数之间用冒号隔开，例如：
```
45EE:0000:78AC:FFFF:2A9B:0000:FFFF:62F4
```
冒号十六进制表示方法可以采用压缩方式，**对于连续的多部分0，可以利用连续的两个“:”（即“::”）代替，但在一个IPv6地址中只能用一次，如：`BC53:0000:0000:0000:0000:315A:0000:0000`，可以压缩为`BC53::315A:0000:0000`

